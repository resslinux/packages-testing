# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
source /usr/share/makepkg/ress_func.sh
pkgbase=elf-toolchain
pkgname=('elf-toolchain-doc' 'elf-toolchain')
pkgver=2.69.r183.g968215e7
pkgrel=1
pkgdesc="Essential compilation tools and libraries for building and analyzing ELF based program images."
arch=('x86_64')
license=('BSD')
url="https://sourceforge.net/p/elftoolchain/wiki/Home/"
depends_doc=()
depends_dev=('elf-toolchain')
depends=('musl')
source=(elf-toolchain::svn://svn.code.sf.net/p/elftoolchain/code/trunk)
md5sums=('SKIP')

#pkgver() {
#  cd "$pkgbase"
#  
#  git describe --long --tags | sed 's/^v//;s/\([^-]*-g\)/r\1/;s/-/./g'
#}

build() {
  cd "$pkgbase"
  
  #autoreconf -fvim
  #./configure --prefix=/usr
  
  bmake
}

package() {
  package-init
  
  cd "$pkgbase"
  
  bmake DESTDIR="$tmpdir" install
}

package_elf-toolchain-doc() {
  package-doc
}

package_elf-toolchain() {
  groups=('base-devel')
  
  package-base
}
